<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TrendPulse AI</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}
:root{
--bg:#0a0e17;--bg2:#111827;--bg3:#1a2035;
--border:#1e293b;--border2:#2d3a4f;
--cyan:#0af;--cyan-dim:rgba(0,170,255,.12);
--green:#22c55e;--yellow:#eab308;--orange:#f97316;--red:#ef4444;
--text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;
--mono:'IBM Plex Mono',monospace;--sans:'Noto Sans SC',sans-serif;
}
html{font-size:14px}
body{background:var(--bg);color:var(--text);font-family:var(--sans);line-height:1.6;min-height:100vh}
.app{max-width:860px;margin:0 auto;padding:20px 16px 40px}

/* Phase indicator */
.phase-bar{display:flex;gap:4px;margin-bottom:24px}
.phase-dot{flex:1;height:3px;background:var(--border);border-radius:2px;transition:background .3s}
.phase-dot.active{background:var(--cyan)}
.phase-dot.done{background:var(--green)}

/* Title area */
.title-row{display:flex;align-items:center;gap:10px;margin-bottom:20px}
.title-icon{width:28px;height:28px;border-radius:6px;background:var(--cyan-dim);border:1px solid rgba(0,170,255,.25);display:flex;align-items:center;justify-content:center}
.title-icon svg{width:16px;height:16px;stroke:var(--cyan);fill:none;stroke-width:2}
.title-text{font-family:var(--mono);font-size:15px;font-weight:600;color:var(--cyan)}

/* Form elements */
.form-section{margin-bottom:20px}
.form-label{font-family:var(--mono);font-size:12px;color:var(--text2);margin-bottom:8px;letter-spacing:.5px}
.checkbox-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(130px,1fr));gap:6px}
.cb-item{display:flex;align-items:center;gap:6px;padding:8px 10px;background:var(--bg2);border:1px solid var(--border);border-radius:6px;cursor:pointer;font-size:13px;transition:all .15s;user-select:none}
.cb-item:hover{border-color:var(--border2)}
.cb-item.checked{border-color:rgba(0,170,255,.4);background:var(--cyan-dim)}
.cb-item input{display:none}
.cb-box{width:14px;height:14px;border:1.5px solid var(--text3);border-radius:3px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .15s}
.cb-item.checked .cb-box{border-color:var(--cyan);background:var(--cyan)}
.cb-box svg{width:10px;height:10px;stroke:#fff;fill:none;stroke-width:2.5;opacity:0;transition:opacity .15s}
.cb-item.checked .cb-box svg{opacity:1}

.sel-wrap{position:relative}
.sel-wrap select{width:100%;appearance:none;background:var(--bg2);border:1px solid var(--border);border-radius:6px;padding:10px 36px 10px 12px;color:var(--text);font-family:var(--sans);font-size:13px;cursor:pointer;outline:none;transition:border-color .15s}
.sel-wrap select:focus{border-color:var(--cyan)}
.sel-wrap::after{content:'';position:absolute;right:12px;top:50%;transform:translateY(-50%);border:4px solid transparent;border-top:5px solid var(--text3);pointer-events:none}

.btn-start{display:block;width:100%;padding:12px;background:var(--cyan);color:#000;font-family:var(--mono);font-size:14px;font-weight:600;border:none;border-radius:6px;cursor:pointer;transition:opacity .15s;margin-top:8px}
.btn-start:hover{opacity:.85}
.btn-start:disabled{opacity:.4;cursor:not-allowed}

/* Processing */
.proc-wrap{text-align:center;padding:60px 0}
.proc-bar-track{width:100%;max-width:400px;height:4px;background:var(--border);border-radius:2px;margin:20px auto;overflow:hidden}
.proc-bar-fill{height:100%;width:0;background:var(--cyan);border-radius:2px;transition:width .3s}
.proc-pct{font-family:var(--mono);font-size:28px;font-weight:600;color:var(--cyan)}
.proc-msg{font-size:13px;color:var(--text2);margin-top:12px;min-height:20px}

/* Results */
.tabs{display:flex;gap:2px;background:var(--bg2);border-radius:8px;padding:3px;margin-bottom:20px}
.tab-btn{flex:1;padding:8px 12px;background:none;border:none;color:var(--text3);font-family:var(--mono);font-size:12px;cursor:pointer;border-radius:6px;transition:all .15s;white-space:nowrap}
.tab-btn.active{background:var(--bg3);color:var(--cyan)}
.tab-panel{display:none}
.tab-panel.active{display:block}

/* Trend table */
.trend-table{width:100%;border-collapse:collapse}
.trend-table th{font-family:var(--mono);font-size:11px;color:var(--text3);text-align:left;padding:8px 10px;border-bottom:1px solid var(--border);letter-spacing:.5px;white-space:nowrap}
.trend-table td{padding:10px;border-bottom:1px solid var(--border);font-size:13px;vertical-align:middle}
.trend-table tr:last-child td{border-bottom:none}
.conf-high{color:var(--green)}
.conf-mid{color:var(--yellow)}
.conf-low{color:var(--orange)}
.rank-s{display:inline-block;padding:1px 8px;border-radius:4px;font-family:var(--mono);font-size:11px;font-weight:600;background:rgba(34,197,94,.15);color:var(--green);border:1px solid rgba(34,197,94,.3)}
.rank-a{display:inline-block;padding:1px 8px;border-radius:4px;font-family:var(--mono);font-size:11px;font-weight:600;background:rgba(234,179,8,.12);color:var(--yellow);border:1px solid rgba(234,179,8,.25)}
.rank-b{display:inline-block;padding:1px 8px;border-radius:4px;font-family:var(--mono);font-size:11px;font-weight:600;background:rgba(148,163,184,.1);color:var(--text3);border:1px solid var(--border)}
.sparkline{display:inline-block;vertical-align:middle}
.comp-tag{font-size:11px;padding:2px 6px;border-radius:3px;background:var(--bg);border:1px solid var(--border)}

/* Script cards */
.script-card{background:var(--bg2);border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden}
.script-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;cursor:pointer;transition:background .15s}
.script-head:hover{background:var(--bg3)}
.script-head-left{display:flex;align-items:center;gap:8px}
.script-num{font-family:var(--mono);font-size:11px;color:var(--text3);width:22px;height:22px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:4px}
.script-title{font-size:14px;font-weight:500}
.script-dur{font-family:var(--mono);font-size:11px;color:var(--text3);padding:2px 8px;background:var(--bg);border-radius:4px}
.script-toggle{width:20px;height:20px;display:flex;align-items:center;justify-content:center;transition:transform .2s}
.script-toggle.open{transform:rotate(180deg)}
.script-body{display:none;padding:0 14px 14px;border-top:1px solid var(--border)}
.script-body.open{display:block}
.scene-item{padding:10px 0;border-bottom:1px solid var(--border)}
.scene-item:last-child{border-bottom:none}
.scene-time{font-family:var(--mono);font-size:11px;color:var(--cyan);margin-bottom:4px}
.scene-label{font-size:12px;font-weight:500;margin-bottom:2px}
.scene-desc{font-size:12px;color:var(--text2)}
.script-meta{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px;padding-top:10px;border-top:1px solid var(--border)}
.meta-item{font-size:12px}
.meta-key{color:var(--text3);font-family:var(--mono);font-size:11px}

/* Data insights */
.stat-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:20px}
.stat-card{background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:14px}
.stat-val{font-family:var(--mono);font-size:22px;font-weight:600;color:var(--cyan)}
.stat-label{font-size:12px;color:var(--text3);margin-top:2px}

.chart-section{background:var(--bg2);border:1px solid var(--border);border-radius:8px;padding:14px;margin-bottom:14px}
.chart-title{font-family:var(--mono);font-size:12px;color:var(--text2);margin-bottom:12px}
.bar-row{display:flex;align-items:center;gap:8px;margin-bottom:8px}
.bar-label{font-size:12px;color:var(--text2);width:60px;text-align:right;flex-shrink:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.bar-track{flex:1;height:18px;background:var(--bg);border-radius:3px;overflow:hidden}
.bar-fill{height:100%;border-radius:3px;transition:width .6s ease}
.bar-val{font-family:var(--mono);font-size:11px;color:var(--text3);width:35px;flex-shrink:0}

.heatmap{display:grid;grid-template-columns:50px repeat(7,1fr);gap:3px;font-size:11px}
.hm-label{display:flex;align-items:center;justify-content:flex-end;padding-right:6px;color:var(--text3);font-family:var(--mono)}
.hm-day{text-align:center;color:var(--text3);font-family:var(--mono);padding:4px 0}
.hm-cell{aspect-ratio:1;border-radius:3px;display:flex;align-items:center;justify-content:center;font-family:var(--mono);font-size:10px;color:var(--text)}
.hm-0{background:var(--bg)}
.hm-1{background:rgba(0,170,255,.1)}
.hm-2{background:rgba(0,170,255,.25)}
.hm-3{background:rgba(0,170,255,.45)}
.hm-4{background:rgba(0,170,255,.7)}

/* Bottom actions */
.bottom-actions{display:flex;gap:10px;margin-top:24px}
.btn-done{flex:1;padding:12px;background:var(--bg2);border:1px solid var(--border);border-radius:6px;color:var(--text);font-family:var(--mono);font-size:13px;cursor:pointer;transition:all .15s}
.btn-done:hover{border-color:var(--cyan);color:var(--cyan)}
.btn-export{flex:1;padding:12px;background:var(--cyan);border:none;border-radius:6px;color:#000;font-family:var(--mono);font-size:13px;font-weight:600;cursor:pointer;transition:opacity .15s}
.btn-export:hover{opacity:.85}

/* Responsive */
@media(max-width:600px){
  .app{padding:12px 10px 32px}
  .checkbox-grid{grid-template-columns:repeat(2,1fr)}
  .stat-grid{grid-template-columns:1fr}
  .trend-table{font-size:12px}
  .trend-table th,.trend-table td{padding:6px}
  .script-meta{grid-template-columns:1fr}
  .heatmap{grid-template-columns:36px repeat(7,1fr);font-size:10px}
  .bar-label{width:44px;font-size:11px}
}
</style>
</head>
<body>
<div class="app" id="app">
  <!-- Phase bar -->
  <div class="phase-bar"><div class="phase-dot active" id="p1"></div><div class="phase-dot" id="p2"></div><div class="phase-dot" id="p3"></div></div>

  <!-- Title -->
  <div class="title-row">
    <div class="title-icon"><svg viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg></div>
    <span class="title-text">TrendPulse AI</span>
  </div>

  <!-- PHASE 1: Input -->
  <div id="phase1">
    <div class="form-section">
      <div class="form-label">TARGET PLATFORMS</div>
      <div class="checkbox-grid" id="platformGrid"></div>
    </div>
    <div class="form-section">
      <div class="form-label">CONTENT VERTICAL</div>
      <div class="sel-wrap">
        <select id="selVertical">
          <option value="food">ç¾é£Ÿ</option><option value="beauty">ç¾å¦†</option>
          <option value="tech">ç§‘æŠ€</option><option value="life">ç”Ÿæ´»</option>
          <option value="comedy">æç¬‘</option><option value="knowledge">çŸ¥è¯†</option>
          <option value="travel">æ—…è¡Œ</option><option value="fitness">å¥èº«</option>
          <option value="fashion">ç©¿æ­</option><option value="pets">å® ç‰©</option>
        </select>
      </div>
    </div>
    <div class="form-section">
      <div class="form-label">ACCOUNT TYPE</div>
      <div class="sel-wrap">
        <select id="selAccount">
          <option value="creator">ä¸ªäººåˆ›ä½œè€…</option><option value="brand">å“ç‰Œå®˜æ–¹å·</option>
          <option value="mcn">MCNæœºæ„</option><option value="ecom">ç”µå•†å¸¦è´§</option>
        </select>
      </div>
    </div>
    <button class="btn-start" id="btnStart" onclick="window._app.start()">å¼€å§‹åˆ†æ</button>
  </div>

  <!-- PHASE 2: Processing -->
  <div id="phase2" style="display:none">
    <div class="proc-wrap">
      <div class="proc-pct" id="procPct">0%</div>
      <div class="proc-bar-track"><div class="proc-bar-fill" id="procBar"></div></div>
      <div class="proc-msg" id="procMsg"></div>
    </div>
  </div>

  <!-- PHASE 3: Results -->
  <div id="phase3" style="display:none">
    <div class="tabs" id="tabBar">
      <button class="tab-btn active" data-tab="trends">è¶‹åŠ¿é¢„æµ‹</button>
      <button class="tab-btn" data-tab="scripts">è„šæœ¬æ–¹æ¡ˆ</button>
      <button class="tab-btn" data-tab="insights">æ•°æ®æ´å¯Ÿ</button>
    </div>
    <div class="tab-panel active" id="tab-trends"></div>
    <div class="tab-panel" id="tab-scripts"></div>
    <div class="tab-panel" id="tab-insights"></div>
    <div class="bottom-actions">
      <button class="btn-done" onclick="window._app.finish()">å®Œæˆ</button>
      <button class="btn-export" onclick="window._app.exportReport()">å¯¼å‡ºæŠ¥å‘Š</button>
    </div>
  </div>
</div>
<script>
(function(){'use strict';
var timeouts=[];
function addTimeout(fn,ms){var id=setTimeout(fn,ms);timeouts.push(id);return id;}
function clearAllTimeouts(){for(var i=0;i<timeouts.length;i++)clearTimeout(timeouts[i]);timeouts=[];}

/* ---- DATA BANKS ---- */
var PLATFORMS=['æŠ–éŸ³','å¿«æ‰‹','TikTok','YouTube','X/Twitter','å°çº¢ä¹¦','Bç«™','Instagram'];

var TOPICS={
food:[
{name:'æ‰“å·¥äºº5åˆ†é’Ÿæ—©é¤',conf:94,days:3,plat:'æŠ–éŸ³/å°çº¢ä¹¦',comp:'ä¸­',rank:'S'},
{name:'ä¸€äººé£Ÿæ²»æ„ˆç³»åˆ—',conf:91,days:4,plat:'Bç«™/å°çº¢ä¹¦',comp:'ä½',rank:'S'},
{name:'ä¾¿åˆ©åº—éšè—åƒæ³•',conf:87,days:5,plat:'æŠ–éŸ³/å¿«æ‰‹',comp:'é«˜',rank:'A'},
{name:'å‡è„‚æœŸæ¬ºéª—é¤',conf:83,days:6,plat:'å°çº¢ä¹¦/æŠ–éŸ³',comp:'ä¸­',rank:'A'},
{name:'å­£èŠ‚é™å®šç”œå“',conf:78,days:7,plat:'å°çº¢ä¹¦/Instagram',comp:'ä¸­',rank:'B'},
{name:'æ·±å¤œé£Ÿå ‚å¤åˆ»',conf:92,days:3,plat:'Bç«™/æŠ–éŸ³',comp:'ä½',rank:'S'},
{name:'10å…ƒæå®šä¸€æ—¥ä¸‰é¤',conf:88,days:4,plat:'å¿«æ‰‹/æŠ–éŸ³',comp:'é«˜',rank:'A'},
{name:'å¼‚å›½è¡—å¤´å°åƒ',conf:76,days:8,plat:'YouTube/TikTok',comp:'ä½',rank:'B'},
{name:'åŠå…¬å®¤å·å·ç¾é£Ÿ',conf:85,days:5,plat:'æŠ–éŸ³/å°çº¢ä¹¦',comp:'ä¸­',rank:'A'},
{name:'å¦ˆå¦ˆçš„å‘³é“å¤åˆ»',conf:80,days:6,plat:'Bç«™/å¿«æ‰‹',comp:'ä½',rank:'A'}
],
beauty:[
{name:'é€šå‹¤3åˆ†é’Ÿå¦†å®¹',conf:93,days:3,plat:'å°çº¢ä¹¦/æŠ–éŸ³',comp:'é«˜',rank:'S'},
{name:'å­¦ç”Ÿå…šå¹³ä»·å¥½ç‰©',conf:90,days:4,plat:'å°çº¢ä¹¦/Bç«™',comp:'ä¸­',rank:'S'},
{name:'æ¢å­£æŠ¤è‚¤æ€¥æ•‘',conf:86,days:5,plat:'å°çº¢ä¹¦/æŠ–éŸ³',comp:'ä¸­',rank:'A'},
{name:'ç´ é¢œæ„Ÿä¼ªå¦†',conf:82,days:6,plat:'æŠ–éŸ³/TikTok',comp:'é«˜',rank:'A'},
{name:'æˆåˆ†å…šæ·±åº¦æµ‹è¯„',conf:79,days:7,plat:'Bç«™/å°çº¢ä¹¦',comp:'ä½',rank:'B'},
{name:'ä»¿å¦†æŒ‘æˆ˜ç³»åˆ—',conf:91,days:3,plat:'æŠ–éŸ³/TikTok',comp:'ä¸­',rank:'S'},
{name:'ç¾ç”²DIYæ•™ç¨‹',conf:84,days:5,plat:'å°çº¢ä¹¦/Instagram',comp:'ä½',rank:'A'},
{name:'å‘å‹æ”¹é€ è®¡åˆ’',conf:77,days:8,plat:'æŠ–éŸ³/å¿«æ‰‹',comp:'ä¸­',rank:'B'},
{name:'ç”·ç”ŸæŠ¤è‚¤å…¥é—¨',conf:88,days:4,plat:'Bç«™/å°çº¢ä¹¦',comp:'ä½',rank:'A'},
{name:'åŒ»ç¾é¿å‘æŒ‡å—',conf:81,days:6,plat:'å°çº¢ä¹¦/æŠ–éŸ³',comp:'é«˜',rank:'A'}
],
tech:[
{name:'AIå·¥å…·æ•ˆç‡ç¿»å€',conf:95,days:2,plat:'Bç«™/YouTube',comp:'é«˜',rank:'S'},
{name:'åƒå…ƒæœºæ·±åº¦å¯¹æ¯”',conf:89,days:4,plat:'Bç«™/æŠ–éŸ³',comp:'é«˜',rank:'S'},
{name:'æ™ºèƒ½å®¶å±…å…¨å±‹æ–¹æ¡ˆ',conf:85,days:5,plat:'Bç«™/å°çº¢ä¹¦',comp:'ä¸­',rank:'A'},
{name:'ç¼–ç¨‹é›¶åŸºç¡€å…¥é—¨',conf:82,days:6,plat:'Bç«™/YouTube',comp:'ä¸­',rank:'A'},
{name:'æ•°ç äº§å“éšè—åŠŸèƒ½',conf:78,days:7,plat:'æŠ–éŸ³/Bç«™',comp:'ä½',rank:'B'},
{name:'è¿œç¨‹åŠå…¬ç¥å™¨',conf:90,days:3,plat:'å°çº¢ä¹¦/Bç«™',comp:'ä¸­',rank:'S'},
{name:'ç”µç«å¤–è®¾æ¨è',conf:83,days:5,plat:'Bç«™/æŠ–éŸ³',comp:'é«˜',rank:'A'},
{name:'æ‰‹æœºæ‘„å½±æŠ€å·§',conf:87,days:4,plat:'æŠ–éŸ³/å°çº¢ä¹¦',comp:'ä¸­',rank:'A'},
{name:'äº‘æœåŠ¡é¿å‘æŒ‡å—',conf:75,days:8,plat:'Bç«™/YouTube',comp:'ä½',rank:'B'},
{name:'å¼€æºé¡¹ç›®æ¨è',conf:80,days:6,plat:'Bç«™/YouTube',comp:'ä½',rank:'A'}
]
};
// Fallback
var DEFAULT_TOPICS=[
{name:'çƒ­é—¨è¯é¢˜ #1',conf:92,days:3,plat:'å¤šå¹³å°',comp:'ä¸­',rank:'S'},
{name:'çƒ­é—¨è¯é¢˜ #2',conf:88,days:4,plat:'å¤šå¹³å°',comp:'ä¸­',rank:'S'},
{name:'çƒ­é—¨è¯é¢˜ #3',conf:85,days:5,plat:'å¤šå¹³å°',comp:'é«˜',rank:'A'},
{name:'çƒ­é—¨è¯é¢˜ #4',conf:82,days:6,plat:'å¤šå¹³å°',comp:'ä½',rank:'A'},
{name:'çƒ­é—¨è¯é¢˜ #5',conf:79,days:7,plat:'å¤šå¹³å°',comp:'ä¸­',rank:'B'},
{name:'çƒ­é—¨è¯é¢˜ #6',conf:90,days:3,plat:'å¤šå¹³å°',comp:'ä½',rank:'S'},
{name:'çƒ­é—¨è¯é¢˜ #7',conf:84,days:5,plat:'å¤šå¹³å°',comp:'ä¸­',rank:'A'},
{name:'çƒ­é—¨è¯é¢˜ #8',conf:76,days:8,plat:'å¤šå¹³å°',comp:'ä½',rank:'B'},
{name:'çƒ­é—¨è¯é¢˜ #9',conf:86,days:4,plat:'å¤šå¹³å°',comp:'é«˜',rank:'A'},
{name:'çƒ­é—¨è¯é¢˜ #10',conf:81,days:6,plat:'å¤šå¹³å°',comp:'ä¸­',rank:'A'}
];

var SCRIPTS={
food:[
{title:'æ‰“å·¥äºº5åˆ†é’Ÿæ—©é¤',dur:'15s',bgm:'è½»å¿«æ—¥ç³»/æ²»æ„ˆç³»BGM',postTime:'å·¥ä½œæ—¥ 7:00-8:30',scenes:[
{time:'0-3s',label:'å¼€åœºé’©å­',desc:'\"5åˆ†é’Ÿæå®šä¸€å‘¨æ—©é¤ï¼Ÿæ‰“å·¥äººç‹ ç‹ å¿ƒåŠ¨äº†\"'},
{time:'3-8s',label:'é£Ÿæå±•ç¤º',desc:'å¿«é€Ÿå±•ç¤º5ç§é£Ÿæï¼Œå¡ç‚¹åˆ‡æ¢'},
{time:'8-13s',label:'åˆ¶ä½œè¿‡ç¨‹',desc:'åŠ é€Ÿæ‹æ‘„+ç‰¹å†™ï¼Œæ²»æ„ˆæ„ŸBGM'},
{time:'13-15s',label:'æˆå“å±•ç¤º',desc:'æ‘†ç›˜ç‰¹å†™+æ–‡å­—å¼•å¯¼\"å…³æ³¨çœ‹æ›´å¤š\"'}
]},
{title:'ä¸€äººé£Ÿæ²»æ„ˆç³»åˆ—',dur:'60s',bgm:'é’¢ç´è½»éŸ³ä¹/ASMR',postTime:'æ™šé—´ 19:00-21:00',scenes:[
{time:'0-5s',label:'æ°›å›´è¥é€ ',desc:'æš–è‰²ç¯å…‰+å®‰é™å¨æˆ¿ï¼Œå­—å¹•ï¼š\"ä»Šå¤©åªä¸ºè‡ªå·±åšä¸€é¡¿é¥­\"'},
{time:'5-25s',label:'å¤‡èœè¿‡ç¨‹',desc:'æ…¢èŠ‚å¥åˆ‡èœã€æ´—èœASMRï¼Œè¿‘æ™¯ç‰¹å†™'},
{time:'25-45s',label:'çƒ¹é¥ªè¿‡ç¨‹',desc:'ç¿»ç‚’å£°ã€æ²¸è…¾å£°ï¼Œè’¸æ±½ç‰¹å†™ï¼Œä¸­æ™¯ä¸ç‰¹å†™åˆ‡æ¢'},
{time:'45-60s',label:'äº«ç”¨æ—¶åˆ»',desc:'ä¸€äººé¤æ¡Œï¼Œå®‰é™äº«ç”¨ï¼Œç»“å°¾å­—å¹•å¼•å¯¼äº’åŠ¨'}
]},
{title:'ä¾¿åˆ©åº—éšè—åƒæ³•',dur:'30s',bgm:'èŠ‚å¥æ„Ÿç”µå­/å¡ç‚¹éŸ³ä¹',postTime:'åˆé—´ 11:30-13:00',scenes:[
{time:'0-3s',label:'æ‚¬å¿µå¼€åœº',desc:'\"ä¾¿åˆ©åº—å‘˜å·¥æ‰çŸ¥é“çš„éšè—åƒæ³•ğŸ‘€\"'},
{time:'3-12s',label:'é£Ÿæé‡‡è´­',desc:'ä¾¿åˆ©åº—å†…æ‹æ‘„ï¼Œéšæ‰‹æ‹¿å–3-4ç§å•†å“'},
{time:'12-25s',label:'åˆ›æ„ç»„åˆ',desc:'å±•ç¤ºDIYè¿‡ç¨‹ï¼Œå¡ç‚¹åˆ‡æ¢ï¼ŒåŠ é€Ÿ+æ­£å¸¸é€Ÿåº¦äº¤æ›¿'},
{time:'25-30s',label:'è¯•åƒååº”',desc:'çœŸå®ååº”+è¯„åˆ†ï¼Œå¼•å¯¼è¯„è®º\"ä½ è¯•è¿‡å“ªç§ï¼Ÿ\"'}
]}
],
beauty:[
{title:'é€šå‹¤3åˆ†é’Ÿå¦†å®¹',dur:'30s',bgm:'è½»å¿«æµè¡Œ/æ—©å®‰ç³»BGM',postTime:'å·¥ä½œæ—¥ 6:30-8:00',scenes:[
{time:'0-3s',label:'å¯¹æ¯”å¼€åœº',desc:'ç´ é¢œ vs å®Œå¦† å¿«é€Ÿé—ªåˆ‡ï¼Œ\"3åˆ†é’Ÿå‡ºé—¨ä¸è¿Ÿåˆ°\"'},
{time:'3-15s',label:'åº•å¦†+é®ç‘•',desc:'æç®€æ­¥éª¤ï¼Œä¸€ä¸ªäº§å“æå®šï¼Œè®¡æ—¶å™¨å€’è®¡æ—¶'},
{time:'15-25s',label:'çœ¼å¦†+å”‡å¦†',desc:'2æ­¥å®Œæˆï¼Œå¼ºè°ƒé€Ÿåº¦å’Œæ•ˆæœå¯¹æ¯”'},
{time:'25-30s',label:'å®Œæˆå±•ç¤º',desc:'å‡ºé—¨åœºæ™¯+äº§å“æ¸…å•ï¼Œå¼•å¯¼æ”¶è—'}
]},
{title:'å­¦ç”Ÿå…šå¹³ä»·å¥½ç‰©',dur:'60s',bgm:'æ¸…æ–°å‰ä»–/æ ¡å›­æ„ŸBGM',postTime:'å‘¨æœ« 10:00-12:00',scenes:[
{time:'0-5s',label:'ä»·æ ¼å†²å‡»',desc:'\"å…¨å¥—ä¸è¶…è¿‡100å—ï¼Ÿï¼\"ï¼Œå †å äº§å“å±•ç¤º'},
{time:'5-30s',label:'é€ä¸ªæµ‹è¯„',desc:'æ¯ä¸ªäº§å“10ç§’å†…å¿«é€Ÿä¸Šè„¸è¯•è‰²ï¼Œæ ‡æ³¨ä»·æ ¼'},
{time:'30-50s',label:'å¦†å®¹æ•™ç¨‹',desc:'ç”¨æ¨èäº§å“å®Œæˆä¸€ä¸ªå®Œæ•´å¦†å®¹'},
{time:'50-60s',label:'æ•ˆæœæ€»ç»“',desc:'æŒå¦†æ•ˆæœå±•ç¤º+è´­ä¹°é“¾æ¥å¼•å¯¼'}
]},
{title:'ä»¿å¦†æŒ‘æˆ˜ç³»åˆ—',dur:'60s',bgm:'ç”µå½±æ„ŸBGM/åŸè§’è‰²ä¸»é¢˜æ›²',postTime:'å‘¨æœ« 18:00-20:00',scenes:[
{time:'0-5s',label:'åŸå›¾å¯¹æ¯”',desc:'å±•ç¤ºä»¿å¦†å¯¹è±¡åŸå›¾ï¼Œ\"ä»Šå¤©æŒ‘æˆ˜XXä»¿å¦†\"'},
{time:'5-35s',label:'å¦†å®¹è¿‡ç¨‹',desc:'å…³é”®æ­¥éª¤è¯¦è§£ï¼Œå¼ºè°ƒæŠ€å·§éš¾ç‚¹'},
{time:'35-50s',label:'é€ å‹å®Œå–„',desc:'é…é¥°+å‘å‹+æœè£…ï¼Œé€æ­¥è¿˜åŸ'},
{time:'50-60s',label:'ç»ˆæå¯¹æ¯”',desc:'å·¦å³åˆ†å±å¯¹æ¯”ï¼ŒæŠ•ç¥¨å¼•å¯¼\"åƒä¸åƒï¼Ÿ\"'}
]}
],
tech:[
{title:'AIå·¥å…·æ•ˆç‡ç¿»å€',dur:'60s',bgm:'ç§‘æŠ€æ„Ÿç”µå­/æœªæ¥æ„ŸBGM',postTime:'å·¥ä½œæ—¥ 12:00-13:00',scenes:[
{time:'0-5s',label:'ç—›ç‚¹å¼•å…¥',desc:'\"è¿˜åœ¨åŠ ç­ï¼Ÿè¿™äº›AIå·¥å…·è®©ä½ å‡†æ—¶ä¸‹ç­\"'},
{time:'5-25s',label:'å·¥å…·æ¼”ç¤º1',desc:'ç¬¬ä¸€ä¸ªå·¥å…·å®æ“æ¼”ç¤ºï¼Œbefore/afteræ•ˆæœ'},
{time:'25-45s',label:'å·¥å…·æ¼”ç¤º2',desc:'ç¬¬äºŒä¸ªå·¥å…·æ“ä½œï¼Œå¼ºè°ƒæ•ˆç‡æå‡æ•°æ®'},
{time:'45-60s',label:'æ€»ç»“æ¸…å•',desc:'å·¥å…·åˆé›†+ä½¿ç”¨åœºæ™¯è¡¨æ ¼ï¼Œå¼•å¯¼å…³æ³¨è·å–æ›´å¤š'}
]},
{title:'åƒå…ƒæœºæ·±åº¦å¯¹æ¯”',dur:'60s',bgm:'èŠ‚å¥æ„Ÿè¯´å”±/æ•°ç åšä¸»å¸¸ç”¨',postTime:'å‘¨æœ« 14:00-16:00',scenes:[
{time:'0-5s',label:'æ‚¬å¿µå¼€åœº',desc:'\"1000å—åˆ°åº•èƒ½ä¹°åˆ°å¤šå¥½çš„æ‰‹æœºï¼Ÿ\"'},
{time:'5-30s',label:'å¤–è§‚å¯¹æ¯”',desc:'3å°æ‰‹æœºå¹¶æ’ï¼Œè®¾è®¡/æ‰‹æ„Ÿ/å±å¹•é€é¡¹å¯¹æ¯”'},
{time:'30-50s',label:'æ€§èƒ½æµ‹è¯•',desc:'è·‘åˆ†+æ¸¸æˆå®æµ‹+æ‹ç…§å¯¹æ¯”ï¼Œæ•°æ®å¯è§†åŒ–'},
{time:'50-60s',label:'æœ€ç»ˆæ¨è',desc:'è¯„åˆ†é›·è¾¾å›¾+é€‚åˆäººç¾¤åˆ†æï¼Œå¼•å¯¼æŠ•ç¥¨'}
]},
{title:'è¿œç¨‹åŠå…¬ç¥å™¨',dur:'30s',bgm:'Lo-fi/å’–å•¡é¦†æ°›å›´',postTime:'å‘¨ä¸€ 9:00-10:00',scenes:[
{time:'0-3s',label:'åœºæ™¯å…±é¸£',desc:'å±…å®¶åŠå…¬æ··ä¹±æ¡Œé¢ â†’ æ•´ç†åçš„é«˜æ•ˆæ¡Œé¢'},
{time:'3-15s',label:'è½¯ä»¶æ¨è',desc:'3ä¸ªæ ¸å¿ƒå·¥å…·å¿«é€Ÿæ¼”ç¤ºï¼Œå„5ç§’'},
{time:'15-25s',label:'æ•ˆç‡å¯¹æ¯”',desc:'ä½¿ç”¨å‰vsä½¿ç”¨åçš„å·¥ä½œæµå¯¹æ¯”'},
{time:'25-30s',label:'æ€»ç»“è¡ŒåŠ¨',desc:'ä¸€å¥è¯æ€»ç»“+å¼•å¯¼è¯„è®ºåˆ†äº«è‡ªå·±çš„ç¥å™¨'}
]}
]
};
var DEFAULT_SCRIPTS=[
{title:'çƒ­é—¨è¯é¢˜è„šæœ¬ #1',dur:'15s',bgm:'æµè¡ŒBGM',postTime:'é»„é‡‘æ—¶æ®µ',scenes:[
{time:'0-3s',label:'å¼€åœº',desc:'æ‚¬å¿µ/ç—›ç‚¹åˆ‡å…¥'},
{time:'3-10s',label:'ä¸»ä½“å†…å®¹',desc:'æ ¸å¿ƒä»·å€¼å±•ç¤º'},
{time:'10-15s',label:'æ”¶å°¾å¼•å¯¼',desc:'äº’åŠ¨å¼•å¯¼+å…³æ³¨æç¤º'}
]},
{title:'çƒ­é—¨è¯é¢˜è„šæœ¬ #2',dur:'30s',bgm:'èŠ‚å¥æ„ŸBGM',postTime:'åˆé—´/æ™šé—´',scenes:[
{time:'0-5s',label:'é’©å­',desc:'1å¥è¯æŠ“ä½æ³¨æ„åŠ›'},
{time:'5-20s',label:'å†…å®¹å±•å¼€',desc:'åˆ†æ­¥éª¤å±•ç¤ºï¼Œå¡ç‚¹åˆ‡æ¢'},
{time:'20-30s',label:'æ€»ç»“äº’åŠ¨',desc:'æ•ˆæœå¯¹æ¯”+å¼•å¯¼è¯„è®º'}
]},
{title:'çƒ­é—¨è¯é¢˜è„šæœ¬ #3',dur:'60s',bgm:'æ°›å›´æ„ŸBGM',postTime:'å‘¨æœ«é»„é‡‘æ—¶æ®µ',scenes:[
{time:'0-5s',label:'å¼•å…¥',desc:'å…±é¸£å‹é—®é¢˜å¼€åœº'},
{time:'5-30s',label:'è¿‡ç¨‹å±•ç¤º',desc:'è¯¦ç»†æ­¥éª¤ï¼Œå¤šè§’åº¦æ‹æ‘„'},
{time:'30-50s',label:'æ·±åº¦è®²è§£',desc:'æŠ€å·§è¦ç‚¹+å¸¸è§è¯¯åŒº'},
{time:'50-60s',label:'æ€»ç»“è¡ŒåŠ¨',desc:'æ¸…å•æ€»ç»“+æ”¶è—å¼•å¯¼'}
]}
];

/* ---- SPARKLINE SVG ---- */
function makeSpark(conf){
  var pts=[];var h=18;var w=50;var n=8;
  // generate a growth curve based on confidence
  var base=conf/100;
  for(var i=0;i<n;i++){
    var t=i/(n-1);
    var v=base*t*t+Math.sin(t*3.14)*0.15*(1-base)+0.05;
    if(v>1)v=1;if(v<0)v=0;
    pts.push(Math.round(i*(w/(n-1)))+','+Math.round(h-v*h));
  }
  var color=conf>=85?'%2322c55e':conf>=70?'%23eab308':'%23f97316';
  return '<svg class="sparkline" width="'+w+'" height="'+h+'" viewBox="0 0 '+w+' '+h+'"><polyline points="'+pts.join(' ')+'" fill="none" stroke="'+color+'" stroke-width="1.5" stroke-linecap="round"/></svg>';
}

/* ---- HEATMAP DATA ---- */
var HEATMAP=[
  [3,2,4,3,4,2,1],
  [2,3,3,4,3,3,2],
  [1,1,2,2,2,4,4],
  [4,3,2,1,1,3,3]
];
var HM_ROWS=['æ—©é—´','åˆé—´','æ™šé—´','æ·±å¤œ'];
var HM_COLS=['å‘¨ä¸€','å‘¨äºŒ','å‘¨ä¸‰','å‘¨å››','å‘¨äº”','å‘¨å…­','å‘¨æ—¥'];

/* ---- APP LOGIC ---- */
var selectedPlatforms={};
var currentData=null;

function initPlatforms(){
  var grid=document.getElementById('platformGrid');
  var html='';
  for(var i=0;i<PLATFORMS.length;i++){
    html+='<label class="cb-item" data-plat="'+PLATFORMS[i]+'"><input type="checkbox"><span class="cb-box"><svg viewBox="0 0 12 12"><polyline points="2 6 5 9 10 3"/></svg></span>'+PLATFORMS[i]+'</label>';
  }
  grid.innerHTML=html;
  grid.addEventListener('click',function(e){
    var item=e.target.closest('.cb-item');
    if(!item)return;
    var inp=item.querySelector('input');
    inp.checked=!inp.checked;
    if(inp.checked){item.classList.add('checked');selectedPlatforms[item.getAttribute('data-plat')]=true;}
    else{item.classList.remove('checked');delete selectedPlatforms[item.getAttribute('data-plat')];}
    updateStartBtn();
  });
}

function updateStartBtn(){
  var btn=document.getElementById('btnStart');
  var count=Object.keys(selectedPlatforms).length;
  btn.disabled=count===0;
}

function startAnalysis(){
  var vertical=document.getElementById('selVertical').value;
  // Prepare data
  var topicKey=vertical==='food'?'food':vertical==='beauty'?'beauty':vertical==='tech'?'tech':null;
  currentData={
    topics:topicKey&&TOPICS[topicKey]?TOPICS[topicKey]:DEFAULT_TOPICS,
    scripts:topicKey&&SCRIPTS[topicKey]?SCRIPTS[topicKey]:DEFAULT_SCRIPTS,
    vertical:document.getElementById('selVertical').options[document.getElementById('selVertical').selectedIndex].text,
    platforms:Object.keys(selectedPlatforms),
    account:document.getElementById('selAccount').options[document.getElementById('selAccount').selectedIndex].text
  };

  // Switch to phase 2
  document.getElementById('phase1').style.display='none';
  document.getElementById('phase2').style.display='block';
  document.getElementById('p1').className='phase-dot done';
  document.getElementById('p2').className='phase-dot active';

  runProcessing();
}

function runProcessing(){
  var msgs=['æ­£åœ¨é‡‡é›†å¤šå¹³å°æ•°æ®...','åˆ†æè¶‹åŠ¿çƒ­åº¦...','ç”Ÿæˆçˆ†æ¬¾é€‰é¢˜...','ä¼˜åŒ–è„šæœ¬æ–¹æ¡ˆ...','ç”ŸæˆæŠ¥å‘Š...'];
  var pct=0;var step=0;var total=100;
  var barEl=document.getElementById('procBar');
  var pctEl=document.getElementById('procPct');
  var msgEl=document.getElementById('procMsg');

  function tick(){
    if(pct>=total){
      showResults();
      return;
    }
    var inc=Math.floor(Math.random()*8)+3;
    pct=Math.min(pct+inc,total);
    barEl.style.width=pct+'%';
    pctEl.textContent=pct+'%';
    var msgIdx=Math.min(Math.floor(pct/20),msgs.length-1);
    if(msgIdx!==step){step=msgIdx;msgEl.textContent=msgs[step];}
    addTimeout(tick,Math.floor(Math.random()*200)+100);
  }
  msgEl.textContent=msgs[0];
  addTimeout(tick,300);
}

function showResults(){
  document.getElementById('phase2').style.display='none';
  document.getElementById('phase3').style.display='block';
  document.getElementById('p2').className='phase-dot done';
  document.getElementById('p3').className='phase-dot active';

  renderTrends();
  renderScripts();
  renderInsights();
}

function renderTrends(){
  var d=currentData.topics;
  var html='<table class="trend-table"><thead><tr><th>è¯é¢˜</th><th>ç½®ä¿¡åº¦</th><th>è¶‹åŠ¿</th><th>çˆ†å‘</th><th>å¹³å°</th><th>ç«äº‰</th><th>ç­‰çº§</th></tr></thead><tbody>';
  for(var i=0;i<d.length;i++){
    var t=d[i];
    var confClass=t.conf>=85?'conf-high':t.conf>=70?'conf-mid':'conf-low';
    var rankClass=t.rank==='S'?'rank-s':t.rank==='A'?'rank-a':'rank-b';
    html+='<tr><td>'+t.name+'</td><td class="'+confClass+'" style="font-family:var(--mono)">'+t.conf+'%</td><td>'+makeSpark(t.conf)+'</td><td style="font-family:var(--mono);color:var(--text3)">'+t.days+'å¤©å</td><td><span class="comp-tag">'+t.plat+'</span></td><td>'+t.comp+'</td><td><span class="'+rankClass+'">'+t.rank+'</span></td></tr>';
  }
  html+='</tbody></table>';
  document.getElementById('tab-trends').innerHTML=html;
}

function renderScripts(){
  var d=currentData.scripts;
  var html='';
  for(var i=0;i<d.length;i++){
    var s=d[i];
    html+='<div class="script-card"><div class="script-head" data-idx="'+i+'"><div class="script-head-left"><span class="script-num">'+(i+1)+'</span><span class="script-title">'+s.title+'</span></div><div style="display:flex;align-items:center;gap:8px"><span class="script-dur">'+s.dur+'</span><span class="script-toggle" id="stog'+i+'"><svg width="12" height="12" viewBox="0 0 12 12"><polyline points="2 4 6 8 10 4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg></span></div></div>';
    html+='<div class="script-body" id="sbody'+i+'">';
    for(var j=0;j<s.scenes.length;j++){
      var sc=s.scenes[j];
      html+='<div class="scene-item"><div class="scene-time">'+sc.time+'</div><div class="scene-label">'+sc.label+'</div><div class="scene-desc">'+sc.desc+'</div></div>';
    }
    html+='<div class="script-meta"><div class="meta-item"><div class="meta-key">BGMå»ºè®®</div>'+s.bgm+'</div><div class="meta-item"><div class="meta-key">å‘å¸ƒæ—¶é—´</div>'+s.postTime+'</div></div>';
    html+='</div></div>';
  }
  var panel=document.getElementById('tab-scripts');
  panel.innerHTML=html;
  // event delegation for expand/collapse
  panel.addEventListener('click',function(e){
    var head=e.target.closest('.script-head');
    if(!head)return;
    var idx=head.getAttribute('data-idx');
    var body=document.getElementById('sbody'+idx);
    var tog=document.getElementById('stog'+idx);
    if(body.classList.contains('open')){body.classList.remove('open');tog.classList.remove('open');}
    else{body.classList.add('open');tog.classList.add('open');}
  });
}

function renderInsights(){
  var d=currentData.topics;
  // Stats
  var highConf=0;for(var i=0;i<d.length;i++){if(d[i].conf>=80)highConf++;}
  var html='<div class="stat-grid">';
  html+='<div class="stat-card"><div class="stat-val">'+d.length+'</div><div class="stat-label">é¢„æµ‹è¦†ç›–è¯é¢˜æ•°</div></div>';
  html+='<div class="stat-card"><div class="stat-val">'+Math.round(highConf/d.length*100)+'%</div><div class="stat-label">é«˜ç½®ä¿¡åº¦è¯é¢˜å æ¯”</div></div>';
  html+='<div class="stat-card"><div class="stat-val">3-5å¤©</div><div class="stat-label">æ¨èå‘å¸ƒçª—å£</div></div>';
  html+='<div class="stat-card"><div class="stat-val">'+Math.round((highConf/d.length)*87)+'%</div><div class="stat-label">é¢„è®¡çˆ†æ¬¾ç‡</div></div>';
  html+='</div>';

  // Platform bars
  var plats=currentData.platforms;
  html+='<div class="chart-section"><div class="chart-title">å¹³å°è¶‹åŠ¿å¼ºåº¦å¯¹æ¯”</div>';
  for(var p=0;p<plats.length;p++){
    var val=Math.floor(Math.random()*30)+65;
    var color=val>=85?'var(--green)':val>=70?'var(--cyan)':'var(--yellow)';
    html+='<div class="bar-row"><span class="bar-label">'+plats[p]+'</span><div class="bar-track"><div class="bar-fill" style="width:'+val+'%;background:'+color+'"></div></div><span class="bar-val">'+val+'</span></div>';
  }
  html+='</div>';

  // Heatmap
  html+='<div class="chart-section"><div class="chart-title">æœ€ä½³å‘å¸ƒæ—¶é—´çƒ­åŠ›å›¾</div><div class="heatmap">';
  html+='<div class="hm-label"></div>';
  for(var c=0;c<HM_COLS.length;c++){html+='<div class="hm-day">'+HM_COLS[c]+'</div>';}
  for(var r=0;r<HEATMAP.length;r++){
    html+='<div class="hm-label">'+HM_ROWS[r]+'</div>';
    for(var cc=0;cc<HEATMAP[r].length;cc++){
      html+='<div class="hm-cell hm-'+HEATMAP[r][cc]+'"></div>';
    }
  }
  html+='</div></div>';

  document.getElementById('tab-insights').innerHTML=html;
}

function exportReport(){
  var d=currentData;
  var lines=[];
  lines.push('TrendPulse AI åˆ†ææŠ¥å‘Š');
  lines.push('========================');
  lines.push('é¢†åŸŸ: '+d.vertical);
  lines.push('è´¦å·ç±»å‹: '+d.account);
  lines.push('ç›®æ ‡å¹³å°: '+d.platforms.join(', '));
  lines.push('');
  lines.push('ã€è¶‹åŠ¿é¢„æµ‹ã€‘');
  for(var i=0;i<d.topics.length;i++){
    var t=d.topics[i];
    lines.push((i+1)+'. '+t.name+' | ç½®ä¿¡åº¦:'+t.conf+'% | '+t.days+'å¤©åçˆ†å‘ | ç«äº‰åº¦:'+t.comp+' | ç­‰çº§:'+t.rank);
  }
  lines.push('');
  lines.push('ã€è„šæœ¬æ–¹æ¡ˆã€‘');
  for(var s=0;s<d.scripts.length;s++){
    var sc=d.scripts[s];
    lines.push('è„šæœ¬'+(s+1)+': '+sc.title+' ('+sc.dur+')');
    for(var j=0;j<sc.scenes.length;j++){
      var scene=sc.scenes[j];
      lines.push('  ['+scene.time+'] '+scene.label+' â€” '+scene.desc);
    }
    lines.push('  BGM: '+sc.bgm+' | å‘å¸ƒæ—¶é—´: '+sc.postTime);
    lines.push('');
  }
  var blob=new Blob([lines.join('\n')],{type:'text/plain;charset=utf-8'});
  var url=URL.createObjectURL(blob);
  var a=document.createElement('a');
  a.href=url;a.download='TrendPulse_Report.txt';
  document.body.appendChild(a);a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
}

function finishSession(){
  // Signal MuleRun parent iframe that session is complete
  try{
    if(window.parent&&window.parent!==window){
      window.parent.postMessage({type:'session-end',status:'completed'},'*');
    }
  }catch(e){}
}

/* ---- TAB SWITCHING ---- */
function initTabs(){
  document.getElementById('tabBar').addEventListener('click',function(e){
    var btn=e.target.closest('.tab-btn');
    if(!btn)return;
    var tabs=document.querySelectorAll('.tab-btn');
    var panels=document.querySelectorAll('.tab-panel');
    for(var i=0;i<tabs.length;i++){tabs[i].classList.remove('active');}
    for(var j=0;j<panels.length;j++){panels[j].classList.remove('active');}
    btn.classList.add('active');
    var panel=document.getElementById('tab-'+btn.getAttribute('data-tab'));
    if(panel)panel.classList.add('active');
  });
}

/* ---- INIT ---- */
initPlatforms();
initTabs();
updateStartBtn();

// Expose minimal API
window._app={
  start:startAnalysis,
  finish:finishSession,
  exportReport:exportReport
};

// Cleanup on unload
window.addEventListener('beforeunload',function(){clearAllTimeouts();});
})();
</script>
</body>
</html>